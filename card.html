<!doctype html>
<html lang="en"> 
<head> 
  <meta charset="UTF-8">
  <title>Happy Birthday</title> 
  <link rel="stylesheet" href="style.css"> 
</head> 

<body> 
  <div class="card"> 

    <img src="https://github.com/DzarelDeveloper/Img/blob/main/ulangtahun.jpg?raw=true" 
         alt="birthday" class="birthday"> 

    <div class="text"> 
      <h1 id="greeting"></h1>

      <p>
        Happy birthday! Today is a day to celebrate your extraordinary existence. Throughout this journey of life, I am grateful to have you as my friend.
        <br><br>
        May this year be filled with happiness, success, and love.
        Happy birthday, and may every day be filled with joy and extraordinary accomplishments.
      </p>

      <p class="muted">- Nicho -</p> 
    </div> 

    <div class="space"></div> 

    <audio id="bgMusic" controls>
      <source src="hbd.mp3" type="audio/mp3">
    </audio> 

  </div> 

  <script>
    const name = localStorage.getItem("guestName");
    const autoPlay = localStorage.getItem("autoPlay");
    const audio = document.getElementById("bgMusic");
    const body = document.body;

    if (!name) {
      window.location.href = "index.html";
    } else {
      document.getElementById("greeting").textContent = `Hii ${name}!`;
    }

    if (autoPlay === "true") {
      audio.volume = 0.3;
      audio.play().catch(() => {
        console.log("Autoplay diblokir browser");
      });
      localStorage.removeItem("autoPlay");
    }

    audio.addEventListener("play", () => {
      body.classList.add("play-music");
    });

    audio.addEventListener("pause", () => {
      body.classList.remove("play-music");
    });
  </script>

</body>
</html>
